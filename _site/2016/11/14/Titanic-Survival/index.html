<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Data Science and the intuitions behind it">
    
    <!-- <link rel="icon" type="image/x-icon" href="http://ds.gregvi.al/favicon.ico"> -->
    <!-- favicon -->
    <link rel="shortcut icon" href="http://ds.gregvi.alfavicon.ico">

    <title>GA Project week 5 - Who survived the Titanic shipwreck? - Data Salience</title>

    <link rel="canonical" href="http://ds.gregvi.al/2016/11/14/Titanic-Survival/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="http://ds.gregvi.al/feed.xml" title="Data Salience" />

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Data Salience</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
				
                <li>
                    <a href="/about/">About</a>
                </li>
				
                
				
                <li>
                    <a href="/contact/">Contact</a>
                </li>
				
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>GA Project week 5 - Who survived the Titanic shipwreck?</h1>
                    
                    <span class="meta">Posted by Gregory Vial on November 14, 2016</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<h3 id="introduction">Introduction</h3>
<p>Few people know it, but before becoming a Hollywood blockbuster staring Leonardo DiCaprio and Kate Winslet, Titanic was well known as an actual british passenger liner from the early XXth century.</p>

<p><img src="/assets/titanic.jpg" /></p>

<p>Just kidding…</p>

<p>The Titanic and its tragic fate are known to all as one of the most famous civil shipwreck in history.</p>

<p>Leaving Southampton in Great Britain on 10th April 1912, it hit an iceberg 4 days later and sunk on 15th April. On board were more than 3300 passengers (exact number varies according to sources), including nearly 900 crew members.</p>

<p>On board there were only 20 lifeboats, sufficient for 1178 people, so about a third of the total number of passengers. There was an estimate of 705 survivors.</p>

<p>In this project we aim at studying features of passengers such as their age, sex, class, ticket price (fare), port of embarkments, number of family members of board etc, and to predict whether the passenger survived or not.</p>

<h3 id="method">Method</h3>
<p>We built several prediction models using various classification algorithms. Each model was trained with a subset of the passengers obtained on <a href="http://www.kaggle.com">Kaggle</a>, a data science contest website.</p>

<p>We then tested the model with another subset of the passengers and compared our survival predictions with actual survival. Each time we checked various criteria:</p>
<ul>
  <li>Accuracy: the proportion of right predictions</li>
  <li>Precision: out of all predicted survivors, how many were actual survivors</li>
  <li>Recall: out of all survivors, how many did indeed predict as survivors</li>
</ul>

<p>Finally, after comparing our models with this test set, we run a final check using a validation set (again another subset of the passengers that we didn’t use before). This gave us a final confirmation of our best model.</p>

<h3 id="results">Results</h3>
<p>Here are the algorithms we tried and the precision/recall for test set, and accuracy they achieved using the validation set:</p>

<table class="tg">
  <tr>
    <th class="tg-9hbo">Algorithm</th>
    <th class="tg-9hbo">Precision (test)</th>
    <th class="tg-9hbo">Recall (test)</th>
    <th class="tg-9hbo">Accuracy(validation)</th>
  </tr>
  <tr>
    <td class="tg-yw4l">Logistic Regression</td>
    <td class="tg-yw4l">78%</td>
    <td class="tg-yw4l">57%</td>
    <td class="tg-yw4l">77%</td>
  </tr>
  <tr>
    <td class="tg-yw4l">K Nearest Neighbours</td>
    <td class="tg-yw4l">64%</td>
    <td class="tg-yw4l">62%</td>
    <td class="tg-yw4l">64%</td>
  </tr>
  <tr>
    <td class="tg-yw4l">Decision Tree</td>
    <td class="tg-yw4l">77%</td>
    <td class="tg-yw4l">60%</td>
    <td class="tg-yw4l">78%</td>
  </tr>
  <tr>
    <td class="tg-yw4l">Bagging</td>
    <td class="tg-yw4l">72%</td>
    <td class="tg-yw4l">63%</td>
    <td class="tg-yw4l">50%</td>
  </tr>
</table>

<h3 id="interpretation">Interpretation</h3>
<p>The result show clear superiority of Logitic Regression and Decision Trees over KNN and Bagging, as they yield much better results for all criteria.</p>

<p>However there is not obvious reason to prefer Logistic Regression over Decision Tree or vice versa. The former will be slightly better at being right when predicting that someone survived, whereas the latter will be better at identifying the highest ratio of survivors. Depending on what from wrongly predicted survival or lower ratio of actual surivors identified we want to favour when predicting, we may chose one or another.</p>

<h3 id="looking-into-classification-trees-in-more-details">Looking into classification trees in more details</h3>
<p>One of the drawbacks of machine learning algorithms is that they are often hard (if not impossible) to interpret. Fortunately decision trees can be displayed in a graphical format that can be easily understood.</p>

<p>Here is what it looks like in our case:</p>

<p><img src="/assets/titanic_tree.png" /></p>

<h4 id="how-to-read-this-tree">How to read this tree?</h4>
<p>Start from the top. The top box tell you that in our training dataset, 370 died and 226 survived. Now the main differenciator was the fare that people paid. If they paid less than $52, then follow to the next box below on the left. If they paid more than $52, then follow to the next box below on the right.</p>

<p>Let’s focus on this last box. Out of those who paid more than $52, 77 survived and 26 died. That’s quite an impressive ratio of 75% survival!</p>

<p>Yet if you look at those who paid less than $52, 149 survived and 344 died. That’s only a 30% survival rate.</p>

<p>What this tells us is that if you paid a higher fare, you had many more chances to survive. Ok, fair enough, nothing groundbreaking, those who watched the movie knew already!</p>

<p>But you can continue analysing the next boxes to understand what impacted chances of survival. I won’t go into details, but you will see that the main determinants identified by the model are fare and age (looks like children had a better survival rate, apparently the rule “women and children first” prevailed). Number of siblings also appears in the tree but only for 5 individuals, so it may not be so relevant.</p>

<h3 id="conclusion">Conclusion</h3>
<p>Our study has shown that with a limited set of information about Titanic passengers, we were able to predict with an accuracy of 78% whether they survived or not the shipwreck.</p>

<p>Out of 4 algorithms studied, 2 have been ruled out due to poor performances, and 2 have been retained and can be used based on the type of results we want to achieve:</p>
<ul>
  <li>Logistic regression tends to be better at predicting that someone survived if he actually survived</li>
  <li>Decision tree tends to be better at capturing the highest proportion of survivors</li>
</ul>



                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2016/11/10/How-much-worth-data-scientist/" data-toggle="tooltip" data-placement="top" title="GA Project week 4 - How much is worth a data scientist?">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2016/11/19/smoking-is-good/" data-toggle="tooltip" data-placement="top" title="Smoking is good, p<0.05">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://linkedin.com/in/gregoryvial">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/GregVial">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="mailto:ds@gregvi.al">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Grégory Vial 2016</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Contact Form JavaScript -->
<script src="/js/jqBootstrapValidation.js"></script>
<script src="/js/contact_me.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86523398-1', 'auto');
  ga('send', 'pageview');

</script>



</body>

</html>
